\doxysection{Référence du fichier racine/fonctions/fonctions.php}
\hypertarget{fonctions_8php}{}\label{fonctions_8php}\index{racine/fonctions/fonctions.php@{racine/fonctions/fonctions.php}}


Fichier servant à la majorité des fonctions de transferts ffmpeg et autres.  


\doxysubsubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{fonctions_8php_a3b57e8bfa4489aed230c77615a04ad61}\label{fonctions_8php_a3b57e8bfa4489aed230c77615a04ad61} 
{\bfseries fonction\+Transfert} ()
\begin{DoxyCompactList}\small\item\em Fonction principale qui execute le transfert des fichiers des NAS ARCH et PAD vers le stockage local Alimente aussi la base de données avec les métadonnées techniques des vidéos transférées. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_aee0612a66c0234f09335e052dff6de3b}{recuperer\+Collect\+NAS}} (\$ftp\+\_\+server, \$ftp\+\_\+user, \$ftp\+\_\+pass, \$URI\+\_\+\+VIDEOS\+\_\+\+A\+\_\+\+ANALYSER, \$COLLECT\+\_\+\+NAS, \$URI\+\_\+\+NAS\+\_\+\+RACINE)
\begin{DoxyCompactList}\small\item\em Fonction qui récupère l\textquotesingle{}ensemble des métadonnées techniques des vidéos d\textquotesingle{}un NAS (collect\+PAD ou collect\+ARCH) On télécharge les vidéos dans un \$\+URI\+\_\+\+VIDEOS\+\_\+\+A\+\_\+\+ANALYSER si celles-\/ci ne sont pas présentes dans la BD. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a689f4c9661109410d7a696641a0be403}{remplir\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL}} (\&\$COLLECT\+\_\+\+PAD, \&\$COLLECT\+\_\+\+ARCH, \$COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL)
\begin{DoxyCompactList}\small\item\em Fonction qui remplit \$\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL avec les metadonnées de chaque vidéo présentes dans \$\+COLLECT\+\_\+\+PAD ET \$\+COLLECT\+\_\+\+ARCH. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a14d33f9cd39a5b74aa9b4beb23558784}{alimenter\+Stockage\+Local}} (\$COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL)
\begin{DoxyCompactList}\small\item\em Alimente le stockage en local des différentes vidéos récupérées dans les autres NAS. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_ad5bf0509d05a17f95eae910869a85252}{afficher\+Collect}} (\$titre, \$COLLECT\+\_\+\+NAS)
\begin{DoxyCompactList}\small\item\em Fonction qui affiche à l\textquotesingle{}écran une collection passée en paramètre sous forme de tableau. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a832f2dc4ecc759c7ffa3cc074f3b19f3}{verifier\+Correspondance\+Mdt\+Tech\+Videos}} (\$donnees\+Video1, \$donnees\+Video2)
\begin{DoxyCompactList}\small\item\em Fonction qui vérifie la correspondance de toutes les métadonnées techniques entre 2 vidéos passées en paramètre Une vidéo est un tableau qui contient les métadonnées techniques d\textquotesingle{}une vidéo (titre, durée, ...) (pathinfo pour ne pas tenir compte de l\textquotesingle{}extension) \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a974b06d5a8962500b8f3ae6c816277b8}{verifier\+Correspondance\+Noms\+Videos}} (\$chemin\+Fichier\+Complet1, \$chemin\+Fichier\+Complet2)
\item 
\Hypertarget{fonctions_8php_a82e0ae2e33b0be39169c952e7a70f403}\label{fonctions_8php_a82e0ae2e33b0be39169c952e7a70f403} 
{\bfseries fonction\+Reconciliation} ()
\begin{DoxyCompactList}\small\item\em Fonction qui permet de comparer le contenu des deux NAS pour trouver les vidéos qui ne sont présentes que dans un seul emplacement. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a936df152b9fe64ecfb9d47aee7f698c3}{trouver\+Videos\+Manquantes}} (\$nom\+NAS\+\_\+1, \$nom\+NAS\+\_\+2, \$noms\+Videos\+NAS\+\_\+1, \$noms\+Videos\+NAS\+\_\+2, \$liste\+Videos\+Manquantes)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de rechercher les vidéos présentes dans un NAS mais pas dans l\textquotesingle{}autre Prend en paramètre les noms des deux NAS, les listes des noms des vidéos des deux NAS et une liste vide de vidéos manquantes. Retourne \$liste\+Videos\+Manquantes valorisée. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a5dd78c86d7ae587485281d7b1bd4ac97}{afficher\+Videos\+Manquantes}} (\$liste\+Videos\+Manquantes)
\begin{DoxyCompactList}\small\item\em Fonction qui permet d\textquotesingle{}afficher la liste des vidéos manquantes dans un des deux NAS. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_aaa5e158f4fde8c46ef40901978ea1593}{ajouter\+Log}} (\$type\+Log, \$message)
\begin{DoxyCompactList}\small\item\em Fonction qui permet d\textquotesingle{}ajouter un log dans le fichier de log. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_aa029bc6b698e7a5c3a6ea09d50f3c00d}{trouver\+Nom\+Miniature}} (\$nom\+Fichier\+Video)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de trouver le nom de la miniature d\textquotesingle{}une vidéo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_ad128c27b4d40f8cbd4badf428b469a44}{trouver\+Nom\+Video}} (\$nom\+Fichier\+Miniature)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de trouver le nom d\textquotesingle{}une vidéo à partir d\textquotesingle{}une miniature. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a9818a592b5611c372e28a32c454b4b11}{creer\+Dossier}} (\&\$chemin\+Dossier, \$creation\+Incrementale)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de créer un dossier local sans erreur. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_ad699f1486b14d603b8c299a9e6e4118f}{verifier\+Fichier\+Present\+En\+Base}} (\$chemin\+Fichier, \$nom\+Fichier)
\begin{DoxyCompactList}\small\item\em Fonction qui véfifie la présence l\textquotesingle{}un fichier dans la base de données (dans URI\+\_\+\+STOCKAGE\+\_\+\+LOCAL) \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a529aec5717ee864c35a408202c0f60f8}{trouver\+Chemin\+Espace\+Local\+Video}} (\$chemin\+Fichier, \$nom\+Fichier)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de récupérer le chemin d\textquotesingle{}un fichier dans le stockage local à partir du chemin dans un autre NAS. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_aa8b90070bcb60bce03aed28a1c0b5499}{insertion\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL}} (\$COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL)
\begin{DoxyCompactList}\small\item\em Lance l\textquotesingle{}insertion des métadonnées techniques en bd de toutes les vidéos ajoutées dans le serveur. \end{DoxyCompactList}\item 
\Hypertarget{fonctions_8php_a66b3fd774994cee8b8ae247f72102d68}\label{fonctions_8php_a66b3fd774994cee8b8ae247f72102d68} 
{\bfseries scan\+Dossier\+Decoupe\+Video} ()
\begin{DoxyCompactList}\small\item\em Fonction qui permet à la page transferts.\+php de savoir quels videos sont en train de se faire découper. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a7cfebdc128c78cc5d7d7ceb8d6fc3217}{recuperer\+Titre\+Video}} (\$nom\+Fichier)
\begin{DoxyCompactList}\small\item\em Fonction qui retourne le titre de la vidéo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a3914ef1a4fcfd52cf5d37c639e508d24}{recuperer\+Extension\+Fichier}} (\$nom\+Fichier)
\begin{DoxyCompactList}\small\item\em Fonction récupérant l\textquotesingle{}extension du fichier mis en paramètre. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a8bd84925c2e31079de0678d0b0fdac88}{recuperer\+Nom\+Fichier\+Sans\+Extension}} (\$nom\+Fichier)
\begin{DoxyCompactList}\small\item\em Fonction récupérant le nom du fichier mis en paramètre sans l\textquotesingle{}extension de fichier. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a707a7cbca674c33b8f07889a1c8df686}{forcer\+Extension\+Mp4}} (\$nom\+Fichier)
\begin{DoxyCompactList}\small\item\em Fonction qui force le fichier donné à obtenir l\textquotesingle{}extension mp4. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_af985faedf2a17f9d0f93619ef417d808}{mise\+AJour\+Metadonnees\+Video}} ( \$id\+Vid, \$prof\+Referent, \$realisateur, \$promotion, \$projet, \$cadreur, \$responsable\+Son)
\begin{DoxyCompactList}\small\item\em Fonction qui permet de modifier les métadonnées éditoriales d\textquotesingle{}une vidéo. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fonctions_8php_a9f86eb710840d32af14cf0e3a5323de3}{get\+Metadonnees\+Editoriales\+Video}} (\$video)
\begin{DoxyCompactList}\small\item\em Récupère toutes les metadonnees\+Editoriales de la vidéo à partir de son id. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Fichier servant à la majorité des fonctions de transferts ffmpeg et autres. 

\begin{DoxyVersion}{Version}
1.\+1 
\end{DoxyVersion}
\begin{DoxyAuthor}{Auteur}
Julien Loridant 
\end{DoxyAuthor}


\doxysubsection{Documentation des fonctions}
\Hypertarget{fonctions_8php_ad5bf0509d05a17f95eae910869a85252}\index{fonctions.php@{fonctions.php}!afficherCollect@{afficherCollect}}
\index{afficherCollect@{afficherCollect}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{afficherCollect()}{afficherCollect()}}
{\footnotesize\ttfamily \label{fonctions_8php_ad5bf0509d05a17f95eae910869a85252} 
afficher\+Collect (\begin{DoxyParamCaption}\item[{}]{\$titre}{, }\item[{}]{\$\+COLLECT\+\_\+\+NAS}{}\end{DoxyParamCaption})}



Fonction qui affiche à l\textquotesingle{}écran une collection passée en paramètre sous forme de tableau. 


\begin{DoxyParams}{Paramètres}
{\em titre} & -\/ Le titre de la collection à afficher \\
\hline
{\em COLLECT\+\_\+\+NAS} & -\/ Un tableau de métadonnées des vidéos présentes dans le NAS \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_a5dd78c86d7ae587485281d7b1bd4ac97}\index{fonctions.php@{fonctions.php}!afficherVideosManquantes@{afficherVideosManquantes}}
\index{afficherVideosManquantes@{afficherVideosManquantes}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{afficherVideosManquantes()}{afficherVideosManquantes()}}
{\footnotesize\ttfamily \label{fonctions_8php_a5dd78c86d7ae587485281d7b1bd4ac97} 
afficher\+Videos\+Manquantes (\begin{DoxyParamCaption}\item[{}]{\$liste\+Videos\+Manquantes}{}\end{DoxyParamCaption})}



Fonction qui permet d\textquotesingle{}afficher la liste des vidéos manquantes dans un des deux NAS. 


\begin{DoxyParams}{Paramètres}
{\em liste\+Videos\+Manquantes} & -\/ la liste des vidéos manquantes dans un NAS \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_aaa5e158f4fde8c46ef40901978ea1593}\index{fonctions.php@{fonctions.php}!ajouterLog@{ajouterLog}}
\index{ajouterLog@{ajouterLog}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{ajouterLog()}{ajouterLog()}}
{\footnotesize\ttfamily \label{fonctions_8php_aaa5e158f4fde8c46ef40901978ea1593} 
ajouter\+Log (\begin{DoxyParamCaption}\item[{}]{\$type\+Log}{, }\item[{}]{\$message}{}\end{DoxyParamCaption})}



Fonction qui permet d\textquotesingle{}ajouter un log dans le fichier de log. 


\begin{DoxyParams}{Paramètres}
{\em type\+Log} & -\/ Le type de log qu\textquotesingle{}on veut retourner \\
\hline
{\em message} & -\/ Le message qu\textquotesingle{}on veut mettre dans le log \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_a14d33f9cd39a5b74aa9b4beb23558784}\index{fonctions.php@{fonctions.php}!alimenterStockageLocal@{alimenterStockageLocal}}
\index{alimenterStockageLocal@{alimenterStockageLocal}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{alimenterStockageLocal()}{alimenterStockageLocal()}}
{\footnotesize\ttfamily \label{fonctions_8php_a14d33f9cd39a5b74aa9b4beb23558784} 
alimenter\+Stockage\+Local (\begin{DoxyParamCaption}\item[{}]{\$\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL}{}\end{DoxyParamCaption})}



Alimente le stockage en local des différentes vidéos récupérées dans les autres NAS. 


\begin{DoxyParams}{Paramètres}
{\em COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL} & -\/ Collection des vidéos à stocker sur le serveur local \\
\hline
{\em COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL} & -\/ Liste des vidéos qui ont été implémentées dans le stockage local \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_a9818a592b5611c372e28a32c454b4b11}\index{fonctions.php@{fonctions.php}!creerDossier@{creerDossier}}
\index{creerDossier@{creerDossier}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{creerDossier()}{creerDossier()}}
{\footnotesize\ttfamily \label{fonctions_8php_a9818a592b5611c372e28a32c454b4b11} 
creer\+Dossier (\begin{DoxyParamCaption}\item[{\&}]{\$chemin\+Dossier}{, }\item[{}]{\$creation\+Incrementale}{}\end{DoxyParamCaption})}



Fonction qui permet de créer un dossier local sans erreur. 


\begin{DoxyParams}{Paramètres}
{\em chemin\+Dossier} & -\/ l\textquotesingle{}URI du dossier à créer \\
\hline
{\em creation\+Incrementale} & -\/ booléen qui indique si on créé de manière incrémentale \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_a707a7cbca674c33b8f07889a1c8df686}\index{fonctions.php@{fonctions.php}!forcerExtensionMp4@{forcerExtensionMp4}}
\index{forcerExtensionMp4@{forcerExtensionMp4}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{forcerExtensionMp4()}{forcerExtensionMp4()}}
{\footnotesize\ttfamily \label{fonctions_8php_a707a7cbca674c33b8f07889a1c8df686} 
forcer\+Extension\+Mp4 (\begin{DoxyParamCaption}\item[{}]{\$nom\+Fichier}{}\end{DoxyParamCaption})}



Fonction qui force le fichier donné à obtenir l\textquotesingle{}extension mp4. 


\begin{DoxyParams}{Paramètres}
{\em nom\+Fichier} & -\/ Nom du fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
string -\/ nom du fichier avec l\textquotesingle{}extension mp4 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a9f86eb710840d32af14cf0e3a5323de3}\index{fonctions.php@{fonctions.php}!getMetadonneesEditorialesVideo@{getMetadonneesEditorialesVideo}}
\index{getMetadonneesEditorialesVideo@{getMetadonneesEditorialesVideo}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{getMetadonneesEditorialesVideo()}{getMetadonneesEditorialesVideo()}}
{\footnotesize\ttfamily \label{fonctions_8php_a9f86eb710840d32af14cf0e3a5323de3} 
get\+Metadonnees\+Editoriales\+Video (\begin{DoxyParamCaption}\item[{}]{\$video}{}\end{DoxyParamCaption})}



Récupère toutes les metadonnees\+Editoriales de la vidéo à partir de son id. 


\begin{DoxyParams}{Paramètres}
{\em video} & -\/ id de la vidéo \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
mtd\+Edito -\/ Tableau de métadonnées éditoriales qui doivent être insérées 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_aa8b90070bcb60bce03aed28a1c0b5499}\index{fonctions.php@{fonctions.php}!insertionCOLLECT\_STOCK\_LOCAL@{insertionCOLLECT\_STOCK\_LOCAL}}
\index{insertionCOLLECT\_STOCK\_LOCAL@{insertionCOLLECT\_STOCK\_LOCAL}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{insertionCOLLECT\_STOCK\_LOCAL()}{insertionCOLLECT\_STOCK\_LOCAL()}}
{\footnotesize\ttfamily \label{fonctions_8php_aa8b90070bcb60bce03aed28a1c0b5499} 
insertion\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL (\begin{DoxyParamCaption}\item[{}]{\$\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL}{}\end{DoxyParamCaption})}



Lance l\textquotesingle{}insertion des métadonnées techniques en bd de toutes les vidéos ajoutées dans le serveur. 


\begin{DoxyParams}{Paramètres}
{\em COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL} & -\/ Collection des vidéos à ajouter sur le serveur \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_af985faedf2a17f9d0f93619ef417d808}\index{fonctions.php@{fonctions.php}!miseAJourMetadonneesVideo@{miseAJourMetadonneesVideo}}
\index{miseAJourMetadonneesVideo@{miseAJourMetadonneesVideo}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{miseAJourMetadonneesVideo()}{miseAJourMetadonneesVideo()}}
{\footnotesize\ttfamily \label{fonctions_8php_af985faedf2a17f9d0f93619ef417d808} 
mise\+AJour\+Metadonnees\+Video (\begin{DoxyParamCaption}\item[{}]{\$id\+Vid}{, }\item[{}]{\$prof\+Referent}{, }\item[{}]{\$realisateur}{, }\item[{}]{\$promotion}{, }\item[{}]{\$projet}{, }\item[{}]{\$cadreur}{, }\item[{}]{\$responsable\+Son}{}\end{DoxyParamCaption})}



Fonction qui permet de modifier les métadonnées éditoriales d\textquotesingle{}une vidéo. 


\begin{DoxyParams}{Paramètres}
{\em id\+Vid} & -\/ l\textquotesingle{}id de la vidéo \\
\hline
{\em prof\+Referent} & -\/ ID du professeur référent \\
\hline
{\em realisateur} & -\/ le nom d\textquotesingle{}un réalisateur \\
\hline
{\em promotion} & -\/ l\textquotesingle{}année de la promotion \\
\hline
{\em projet} & -\/ le nom du projet \\
\hline
{\em cadreur} & -\/ le nom du cadreur \\
\hline
{\em responsable\+Son} & -\/ le nom du responsable son \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_aee0612a66c0234f09335e052dff6de3b}\index{fonctions.php@{fonctions.php}!recupererCollectNAS@{recupererCollectNAS}}
\index{recupererCollectNAS@{recupererCollectNAS}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{recupererCollectNAS()}{recupererCollectNAS()}}
{\footnotesize\ttfamily \label{fonctions_8php_aee0612a66c0234f09335e052dff6de3b} 
recuperer\+Collect\+NAS (\begin{DoxyParamCaption}\item[{}]{\$ftp\+\_\+server}{, }\item[{}]{\$ftp\+\_\+user}{, }\item[{}]{\$ftp\+\_\+pass}{, }\item[{}]{\$\+URI\+\_\+\+VIDEOS\+\_\+\+A\+\_\+\+ANALYSER}{, }\item[{}]{\$\+COLLECT\+\_\+\+NAS}{, }\item[{}]{\$\+URI\+\_\+\+NAS\+\_\+\+RACINE}{}\end{DoxyParamCaption})}



Fonction qui récupère l\textquotesingle{}ensemble des métadonnées techniques des vidéos d\textquotesingle{}un NAS (collect\+PAD ou collect\+ARCH) On télécharge les vidéos dans un \$\+URI\+\_\+\+VIDEOS\+\_\+\+A\+\_\+\+ANALYSER si celles-\/ci ne sont pas présentes dans la BD. 


\begin{DoxyItemize}
\item On remplit Collect\+NAS pour chaque vidéo
\item On vide le répertoire local \$\+URI\+\_\+\+VIDEOS\+\_\+\+A\+\_\+\+ANALYSER 
\begin{DoxyParams}{Paramètres}
{\em ftp\+\_\+server} & -\/ Le nom du serveur ftp auquel on veut accéder \\
\hline
{\em ftp\+\_\+user} & -\/ Nom de l\textquotesingle{}utilisateur qui se connecte sur le serveur ftp \\
\hline
{\em ftp\+\_\+pass} & -\/ Mot de passe de l\textquotesingle{}utilisateur se connectant sur le serveur ftp \\
\hline
{\em URI\+\_\+\+VIDEOS\+\_\+\+A\+\_\+\+ANALYSER} & -\/ -\/ URI de la vidéo qui doit être analysée \\
\hline
{\em COLLECT\+\_\+\+NAS} & -\/ Toutes les vidéos collectées sur les NAS \\
\hline
{\em URI\+\_\+\+NAS\+\_\+\+RACINE} & -\/ URI de la vidéo sur le NAS racine \\
\hline
\end{DoxyParams}

\end{DoxyItemize}\Hypertarget{fonctions_8php_a3914ef1a4fcfd52cf5d37c639e508d24}\index{fonctions.php@{fonctions.php}!recupererExtensionFichier@{recupererExtensionFichier}}
\index{recupererExtensionFichier@{recupererExtensionFichier}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{recupererExtensionFichier()}{recupererExtensionFichier()}}
{\footnotesize\ttfamily \label{fonctions_8php_a3914ef1a4fcfd52cf5d37c639e508d24} 
recuperer\+Extension\+Fichier (\begin{DoxyParamCaption}\item[{}]{\$nom\+Fichier}{}\end{DoxyParamCaption})}



Fonction récupérant l\textquotesingle{}extension du fichier mis en paramètre. 


\begin{DoxyParams}{Paramètres}
{\em nom\+Fichier} & -\/ Nom du fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
string -\/ extension du fichier 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a8bd84925c2e31079de0678d0b0fdac88}\index{fonctions.php@{fonctions.php}!recupererNomFichierSansExtension@{recupererNomFichierSansExtension}}
\index{recupererNomFichierSansExtension@{recupererNomFichierSansExtension}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{recupererNomFichierSansExtension()}{recupererNomFichierSansExtension()}}
{\footnotesize\ttfamily \label{fonctions_8php_a8bd84925c2e31079de0678d0b0fdac88} 
recuperer\+Nom\+Fichier\+Sans\+Extension (\begin{DoxyParamCaption}\item[{}]{\$nom\+Fichier}{}\end{DoxyParamCaption})}



Fonction récupérant le nom du fichier mis en paramètre sans l\textquotesingle{}extension de fichier. 


\begin{DoxyParams}{Paramètres}
{\em nom\+Fichier} & -\/ Nom du fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
string -\/ nom du fichier sans extension 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a7cfebdc128c78cc5d7d7ceb8d6fc3217}\index{fonctions.php@{fonctions.php}!recupererTitreVideo@{recupererTitreVideo}}
\index{recupererTitreVideo@{recupererTitreVideo}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{recupererTitreVideo()}{recupererTitreVideo()}}
{\footnotesize\ttfamily \label{fonctions_8php_a7cfebdc128c78cc5d7d7ceb8d6fc3217} 
recuperer\+Titre\+Video (\begin{DoxyParamCaption}\item[{}]{\$nom\+Fichier}{}\end{DoxyParamCaption})}



Fonction qui retourne le titre de la vidéo. 


\begin{DoxyParams}{Paramètres}
{\em nom\+Fichier} & -\/ le nom d\textquotesingle{}un fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
nom\+Fichier\+Sans\+Extension -\/ le titre du fichier sans l\textquotesingle{}année, le projet et l\textquotesingle{}extension 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a689f4c9661109410d7a696641a0be403}\index{fonctions.php@{fonctions.php}!remplirCOLLECT\_STOCK\_LOCAL@{remplirCOLLECT\_STOCK\_LOCAL}}
\index{remplirCOLLECT\_STOCK\_LOCAL@{remplirCOLLECT\_STOCK\_LOCAL}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{remplirCOLLECT\_STOCK\_LOCAL()}{remplirCOLLECT\_STOCK\_LOCAL()}}
{\footnotesize\ttfamily \label{fonctions_8php_a689f4c9661109410d7a696641a0be403} 
remplir\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL (\begin{DoxyParamCaption}\item[{\&}]{\$\+COLLECT\+\_\+\+PAD}{, }\item[{\&}]{\$\+COLLECT\+\_\+\+ARCH}{, }\item[{}]{\$\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL}{}\end{DoxyParamCaption})}



Fonction qui remplit \$\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL avec les metadonnées de chaque vidéo présentes dans \$\+COLLECT\+\_\+\+PAD ET \$\+COLLECT\+\_\+\+ARCH. 


\begin{DoxyItemize}
\item Vide les vidéos de \$\+COLLECT\+\_\+\+PAD et \$\+COLLECT\+\_\+\+ARCH qui sont ajoutées dans \$\+COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL (passage les collections par référence) Traite les vidéos isolées 
\begin{DoxyParams}{Paramètres}
{\em COLLECT\+\_\+\+PAD} & -\/ Vidéos collectées sur le NAS PAD \\
\hline
{\em COLLECT\+\_\+\+ARCH} & -\/ Vidéos collectées sur le NAS Archivage \\
\hline
{\em COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL} & -\/ Tableau qui sera rempli de données à l\textquotesingle{}issue de la fonction \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
COLLECT\+\_\+\+STOCK\+\_\+\+LOCAL -\/ Tableau contenant toutes les vidéos qui doivent être stockées sur le serveur local 
\end{DoxyReturn}

\end{DoxyItemize}\Hypertarget{fonctions_8php_a529aec5717ee864c35a408202c0f60f8}\index{fonctions.php@{fonctions.php}!trouverCheminEspaceLocalVideo@{trouverCheminEspaceLocalVideo}}
\index{trouverCheminEspaceLocalVideo@{trouverCheminEspaceLocalVideo}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{trouverCheminEspaceLocalVideo()}{trouverCheminEspaceLocalVideo()}}
{\footnotesize\ttfamily \label{fonctions_8php_a529aec5717ee864c35a408202c0f60f8} 
trouver\+Chemin\+Espace\+Local\+Video (\begin{DoxyParamCaption}\item[{}]{\$chemin\+Fichier}{, }\item[{}]{\$nom\+Fichier}{}\end{DoxyParamCaption})}



Fonction qui permet de récupérer le chemin d\textquotesingle{}un fichier dans le stockage local à partir du chemin dans un autre NAS. 


\begin{DoxyParams}{Paramètres}
{\em chemin\+Fichier} & -\/ chemin d\textquotesingle{}un fichier situé dans le NAS PAD ou ARCH \\
\hline
{\em nom\+Fichier} & -\/ Nom du fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
chemin\+Fichier\+Stockage\+Local -\/ Le chemin du fichier dans le stockage local 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_aa029bc6b698e7a5c3a6ea09d50f3c00d}\index{fonctions.php@{fonctions.php}!trouverNomMiniature@{trouverNomMiniature}}
\index{trouverNomMiniature@{trouverNomMiniature}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{trouverNomMiniature()}{trouverNomMiniature()}}
{\footnotesize\ttfamily \label{fonctions_8php_aa029bc6b698e7a5c3a6ea09d50f3c00d} 
trouver\+Nom\+Miniature (\begin{DoxyParamCaption}\item[{}]{\$nom\+Fichier\+Video}{}\end{DoxyParamCaption})}



Fonction qui permet de trouver le nom de la miniature d\textquotesingle{}une vidéo. 


\begin{DoxyParams}{Paramètres}
{\em nom\+Fichier\+Video} & -\/ nom de la vidéo dont on cherche la miniature \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
nom\+Fichier\+Sans\+Extension -\/ le nom de la miniature 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_ad128c27b4d40f8cbd4badf428b469a44}\index{fonctions.php@{fonctions.php}!trouverNomVideo@{trouverNomVideo}}
\index{trouverNomVideo@{trouverNomVideo}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{trouverNomVideo()}{trouverNomVideo()}}
{\footnotesize\ttfamily \label{fonctions_8php_ad128c27b4d40f8cbd4badf428b469a44} 
trouver\+Nom\+Video (\begin{DoxyParamCaption}\item[{}]{\$nom\+Fichier\+Miniature}{}\end{DoxyParamCaption})}



Fonction qui permet de trouver le nom d\textquotesingle{}une vidéo à partir d\textquotesingle{}une miniature. 


\begin{DoxyParams}{Paramètres}
{\em nom\+Fichier\+Miniature} & -\/ Nom de la vidéo dont on cherche la miniature \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
nom\+Fichier\+Sans\+Extension le nom de la vidéo 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a936df152b9fe64ecfb9d47aee7f698c3}\index{fonctions.php@{fonctions.php}!trouverVideosManquantes@{trouverVideosManquantes}}
\index{trouverVideosManquantes@{trouverVideosManquantes}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{trouverVideosManquantes()}{trouverVideosManquantes()}}
{\footnotesize\ttfamily \label{fonctions_8php_a936df152b9fe64ecfb9d47aee7f698c3} 
trouver\+Videos\+Manquantes (\begin{DoxyParamCaption}\item[{}]{\$nom\+NAS\+\_\+1}{, }\item[{}]{\$nom\+NAS\+\_\+2}{, }\item[{}]{\$noms\+Videos\+NAS\+\_\+1}{, }\item[{}]{\$noms\+Videos\+NAS\+\_\+2}{, }\item[{}]{\$liste\+Videos\+Manquantes}{}\end{DoxyParamCaption})}



Fonction qui permet de rechercher les vidéos présentes dans un NAS mais pas dans l\textquotesingle{}autre Prend en paramètre les noms des deux NAS, les listes des noms des vidéos des deux NAS et une liste vide de vidéos manquantes. Retourne \$liste\+Videos\+Manquantes valorisée. 


\begin{DoxyParams}{Paramètres}
{\em nom\+NAS\+\_\+1} & -\/ nom du premier NAS inspecté \\
\hline
{\em nom\+NAS\+\_\+2} & -\/ nom du second NAS inspecté \\
\hline
{\em noms\+Videos\+NAS\+\_\+1} & -\/ nom de la vidéo comparée dans le NAS numéro 1 \\
\hline
{\em noms\+Videos\+NAS\+\_\+2} & -\/ nom de la vidéo comparée dans le NAS numéro 2 \\
\hline
{\em liste\+Videos\+Manquantes} & -\/ Liste des vidéos manquantes dans les NAS \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
liste\+Videos\+Manquantes -\/ Liste des vidéos manquantes dans les NAS 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a832f2dc4ecc759c7ffa3cc074f3b19f3}\index{fonctions.php@{fonctions.php}!verifierCorrespondanceMdtTechVideos@{verifierCorrespondanceMdtTechVideos}}
\index{verifierCorrespondanceMdtTechVideos@{verifierCorrespondanceMdtTechVideos}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{verifierCorrespondanceMdtTechVideos()}{verifierCorrespondanceMdtTechVideos()}}
{\footnotesize\ttfamily \label{fonctions_8php_a832f2dc4ecc759c7ffa3cc074f3b19f3} 
verifier\+Correspondance\+Mdt\+Tech\+Videos (\begin{DoxyParamCaption}\item[{}]{\$donnees\+Video1}{, }\item[{}]{\$donnees\+Video2}{}\end{DoxyParamCaption})}



Fonction qui vérifie la correspondance de toutes les métadonnées techniques entre 2 vidéos passées en paramètre Une vidéo est un tableau qui contient les métadonnées techniques d\textquotesingle{}une vidéo (titre, durée, ...) (pathinfo pour ne pas tenir compte de l\textquotesingle{}extension) 


\begin{DoxyParams}{Paramètres}
{\em donnees\+Video1} & -\/ Données de la première vidéo \\
\hline
{\em donnees\+Video2} & -\/ Données de la deuxième vidéo \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
boolean 
\end{DoxyReturn}
\Hypertarget{fonctions_8php_a974b06d5a8962500b8f3ae6c816277b8}\index{fonctions.php@{fonctions.php}!verifierCorrespondanceNomsVideos@{verifierCorrespondanceNomsVideos}}
\index{verifierCorrespondanceNomsVideos@{verifierCorrespondanceNomsVideos}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{verifierCorrespondanceNomsVideos()}{verifierCorrespondanceNomsVideos()}}
{\footnotesize\ttfamily \label{fonctions_8php_a974b06d5a8962500b8f3ae6c816277b8} 
verifier\+Correspondance\+Noms\+Videos (\begin{DoxyParamCaption}\item[{}]{\$chemin\+Fichier\+Complet1}{, }\item[{}]{\$chemin\+Fichier\+Complet2}{}\end{DoxyParamCaption})}

Fonction qui vérifie la correspondance des noms des 2 vidéos passées en paramètre On compare les noms des fichiers sans tenir compte de leur extension (video.\+mp4 = video.\+mxf) (pathinfo pour ne pas tenir compte de l\textquotesingle{}extension) On prend cependant compte du chemin du fichier 
\begin{DoxyParams}{Paramètres}
{\em chemin\+Fichier\+Complet1} & -\/ Chemin complet du fichier numéro 1 \\
\hline
{\em chemin\+Fichier\+Complet2} & -\/ Chemin complet du fichier numéro 2 \\
\hline
\end{DoxyParams}
\Hypertarget{fonctions_8php_ad699f1486b14d603b8c299a9e6e4118f}\index{fonctions.php@{fonctions.php}!verifierFichierPresentEnBase@{verifierFichierPresentEnBase}}
\index{verifierFichierPresentEnBase@{verifierFichierPresentEnBase}!fonctions.php@{fonctions.php}}
\doxysubsubsection{\texorpdfstring{verifierFichierPresentEnBase()}{verifierFichierPresentEnBase()}}
{\footnotesize\ttfamily \label{fonctions_8php_ad699f1486b14d603b8c299a9e6e4118f} 
verifier\+Fichier\+Present\+En\+Base (\begin{DoxyParamCaption}\item[{}]{\$chemin\+Fichier}{, }\item[{}]{\$nom\+Fichier}{}\end{DoxyParamCaption})}



Fonction qui véfifie la présence l\textquotesingle{}un fichier dans la base de données (dans URI\+\_\+\+STOCKAGE\+\_\+\+LOCAL) 


\begin{DoxyParams}{Paramètres}
{\em chemin\+Fichier} & -\/ le chemin du fichier \\
\hline
{\em nom\+Fichier} & -\/ Nom du fichier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
booléen 
\end{DoxyReturn}
